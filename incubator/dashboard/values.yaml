---
upstreams:
  dashboard:
    name: "Kubernetes"
    service: ui-kubernetes-dashboard
    port: 80
    namespace: kube-system
  ui:
    name: "K8s"
    service: ui-kubernetes-dashboard
    port: 80
    namespace: kube-system

config:
  basehost:

dashboard:
  replicaCount: 1
  config:
    title: Cluster Dashboard
  image:
    repository: nginx
    tag: latest
    pullPolicy: Always
    pullSecrets:
  deployment:
    ## Deployment annotations
    annotations:
      for: bar
    replicas:
    ## Replicas annotations
      annotations:
        for: bar
    ##    Read more about kube2iam to provide access to s3 https://github.com/jtblin/kube2iam
    #     iam.amazonaws.com/role: role-arn
  service:
    externalPort: 80
    internalPort: 80
    # annotations:
    #   foo.io/bar: "true"
  resources:
    limits:
      cpu: 100m
      memory: 128Mi
    requests:
      cpu: 80m
      memory: 64Mi

auth2-proxy:
  app:
    useSSL: false
    upstreams:
      - file:///dev/null
  #	  - example.com

  # Enabled provider
    provider: "github"

  # Common oauth configs
    clientID:
    clientSecret:
    scope:
    redirectUrl:

  # Github specific configs
    githubOrg:
    githubTeam:

  # Github or Gitlab specific configs
    loginUrl:
    redeemUrl:
    validateUrl:

  # MS Azure specific configs
    azureTenant:
    resource:

  # Google specific configs
    googleGroups:
  #      - "group"
    googleAdminEmail:
    googleServiceAccountJson:

  # HTTP auth configs
    basicAuthPassword:
    displayHtpasswdForm:
    htpasswdFile:

  # Email filters
    emailDomains:
      - "*"
    emails:
  #      - igor@cloudposse.com

  # OAuth2 proxy configs
    approvalPrompt:
    requestLogging: false
    passAccessToken: false
    passBasicAuth: false
    passHostHeader: true
    customTemplatesDir:
    proxyPrefix:
    skipAuthRegex:
  #	  - ".*"
    skipProviderButton:
    profileUrl:
    signatureKey:

  # OAuth2 proxy session cookie config
    cookieName:
    cookieSecret:
    cookieDomain:
    cookieExpire:
    cookieRefresh:
    cookieSecure: false
    cookieHttponly: false

  ## Ingress for load balancer
  #ingress:
  # - name: "default"
  #   tls: "true"
  #   labels:
  #     dns: "route53"
  #   annotations:
  #     kubernetes.io/tls-acme: "true"
  #     domainName: "foobar.com"
  #     dnsRecordType: "CNAME"
  #     dnsRecordTTL: "300"
  #   hosts:
  #     - "oauth2.example.com"
  #     - "example.com"

  replicaCount: 1
  image:
    repository: cloudposse/oauth2-proxy
    tag: latest
    pullPolicy: Always
  service:
    name: oauth
    type: ClusterIP
  #   labels:
  #     dns: "route53"
  #   annotations:
  #     kubernetes.io/tls-acme: "true"
  #     domainName: "foobar.com"
  #     dnsRecordType: "CNAME"
  #     dnsRecordTTL: "300"
    http:
      externalPort: 80
      internalPort: 80
    https:
      externalPort: 443
      internalPort: 443
  resources:
    limits:
      cpu: 100m
      memory: 128Mi
    requests:
      cpu: 100m
      memory: 128Mi

ingress:
  enabled: true
  dns:
    enabled: true
  tls:
    enabled: false
  annotations:
    kubernetes.io/ingress.class: nginx

